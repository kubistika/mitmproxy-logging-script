(window.webpackJsonpweb=window.webpackJsonpweb||[]).push([[0],{37:function(e,t,n){e.exports=n(78)},42:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},43:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(33),l=n.n(s),o=(n(42),n(43),n(21)),i=n(7),c=n.n(i),u=n(11),d=n(19),h=n(12),p=n(13),g=n(16),f=n(14),m=n(17),v=n(80),b=n(81),y=n(82),C=n(83),A=n(79),E=n(84),O=n(85),S=n(86),w=n(9),P=n(36),j=n(20),k=n.n(j);function x(){return H.apply(this,arguments)}function H(){return(H=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("http://localhost:8080/config");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return _.apply(this,arguments)}function _(){return(_=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("http://localhost:8080/config",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=n(34),T=n.n(F),R=function(e){return e},L=function(e){return r.a.createElement("div",null,e)},X=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(g.a)(this,Object(f.a)(t).call(this,e))).getSuggestions=function(e){var t=n.props.optionalValues,a=e.trim().toLowerCase();return 0===a.length?[]:t.filter((function(e){return e.toLowerCase().includes(a)}))},n.onSuggestionsFetchRequested=function(e){var t=e.value;n.setState({suggestions:n.getSuggestions(t)})},n.onSuggestionsClearRequested=function(){n.setState({suggestions:[]})},n.renderInputComponent=function(e){return r.a.createElement("div",null,r.a.createElement(A.a,e))},n.state={suggestions:n.props.optionalValues},n}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.inputProps,s=this.state.suggestions;return r.a.createElement(T.a,{id:n,suggestions:s,renderInputComponent:this.renderInputComponent,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,onSuggestionSelected:function(t,n){var a=n.suggestionValue;return e.props.onSuggestionSelected(a)},getSuggestionValue:R,renderSuggestion:L,inputProps:a})}}]),t}(r.a.Component),I=["method","url","host","version","scheme"],D=["Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Accept-Ranges","Age","Allow","Alternate-Protocol","Cache-Control","Client-Date","Client-Peer","Client-Response-Num","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-MD5","Content-Range","Content-Security-Policy, X-Content-Security-Policy, X-WebKit-CSP","Content-Security-Policy-Report-Only","Content-Type","Date","ETag","Expires","HTTP","Keep-Alive","Last-Modified","Link","Location","P3P","Pragma","Proxy-Authenticate","Proxy-Connection","Refresh","Retry-After","Server","Set-Cookie","Status","Strict-Transport-Security","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Vary","Via","Warning","WWW-Authenticate","X-Aspnet-Version","X-Content-Type-Options","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Pingback","X-Powered-By","X-Robots-Tag","X-UA-Compatible","X-XSS-Protection"];function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(n,!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(g.a)(this,Object(f.a)(t).call(this,e))).onSuggestionSelected=function(e,t){n.addField(e,t),n.setState(Object(d.a)({},"add_field_to_"+e,""))},n.state={loaded:!1},n}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:t=e.sent,n=t.data,(a=W({},n,{loaded:!0})).request.includeAllHeaders=this.isAllFields(a.request.headers),a.response.includeAllHeaders=this.isAllFields(a.response.headers),this.setState(a);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=W({},this.state),t=Object(w.omit)(t,["loaded","add_field_to_request.headers","add_field_to_request.fields","add_field_to_response.fields","add_field_to_response.headers","request.includeAllHeaders","response.includeAllHeaders"]),this.state.request.includeAllHeaders&&(t.request.headers=["*"]),this.state.response.includeAllHeaders&&(t.response.headers=["*"]),e.prev=4,e.next=7,q(t);case 7:alert("Config saved!"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),alert("Error: server might be down.");case 13:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleInputChange",value:function(e){var t=Object.assign({},this.state),n=e.target,a="checkbox"===n.type?n.checked:n.value,r=n.name;switch(console.log(r),r){case"request.includeAllHeaders":console.log("here!"),t.request.includeAllHeaders=!t.request.includeAllHeaders;break;case"response.includeAllHeaders":t.response.includeAllHeaders=!t.response.includeAllHeaders;break;default:t[r]=a}this.setState(t)}},{key:"addField",value:function(e,t){var n,a=Object(w.get)(this.state,e);if(this.isAllFields(a))n=[t];else{if(-1!==(n=Object(o.a)(Object(w.get)(this.state,e))).indexOf(t))return;n.push(t)}Object(w.set)(this.state,e,n),this.setState(this.state)}},{key:"isAllFields",value:function(e){return 1===e.length&&"*"===e[0]}},{key:"removeField",value:function(e,t){var n=Object(o.a)(Object(w.get)(this.state,e));n.splice(t,1),Object(w.set)(this.state,e,n),this.setState(this.state)}},{key:"renderFields",value:function(e,t,n){var a,s=this,l=Object(w.get)(this.state,e);a=1===l.length&&"*"===l[0]?"":l.map((function(t,n){return r.a.createElement("li",{key:n},r.a.createElement(P.a,{onClick:function(){return s.removeField(e,n)},size:30,color:"red",style:{marginRight:"10px"}}),r.a.createElement("span",null,t))}));var o={name:"add_field_to_"+e,placeholder:t,value:this.state["add_field_to_"+e]||"",onChange:function(e){return s.handleInputChange(e)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"proxy-fields"},a),r.a.createElement(X,{id:e,optionalValues:n,onSuggestionSelected:function(t){return s.onSuggestionSelected(e,t)},inputProps:o}))}},{key:"render",value:function(){var e=this;return this.state.loaded?r.a.createElement(v.a,null,r.a.createElement(b.a,null,r.a.createElement(y.a,null,r.a.createElement("h3",null,"General settings"),r.a.createElement(C.a,{for:"logPath"},"Log path"),r.a.createElement(A.a,{type:"text",name:"logPath",id:"logPath",placeholder:"Log path",value:this.state.logPath,onChange:function(t){return e.handleInputChange(t)}})),r.a.createElement(E.a,null,r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement("h3",null,"Request headers"),r.a.createElement(C.a,{style:{marginLeft:"25px"}},r.a.createElement(A.a,{type:"checkbox",checked:this.state.request.includeAllHeaders,name:"request.includeAllHeaders",onChange:function(t){return e.handleInputChange(t)}})," ","Include all"),!this.state.request.includeAllHeaders&&this.renderFields("request.headers","Add HTTP header",D)),r.a.createElement(y.a,null,r.a.createElement("h3",null,"Additional request fields"),r.a.createElement("div",null,this.renderFields("request.fields","Add HTTP field",I)))),r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement("h3",null,"Response headers"),r.a.createElement(C.a,{style:{marginLeft:"25px"}},r.a.createElement(A.a,{type:"checkbox",name:"response.includeAllHeaders",checked:this.state.response.includeAllHeaders,onChange:function(t){return e.handleInputChange(t)}})," ","Include all"),!this.state.response.includeAllHeaders&&this.renderFields("response.headers","Add HTTP header",D)),r.a.createElement(y.a,null,r.a.createElement("h3",null,"Additional response fields"),r.a.createElement("div",null,this.renderFields("response.fields","Add HTTP field",I))))),r.a.createElement(S.a,{onClick:function(){return e.onSubmit()}},"Submit"))):""}}]),t}(r.a.Component);M.defaultProps={};var N=M;var B=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"top"},r.a.createElement(v.a,null,r.a.createElement("h3",null,"Proxy configuration"))),r.a.createElement(v.a,null,r.a.createElement(N,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(76),n(77);l.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[37,1,2]]]);
//# sourceMappingURL=main.d6cbc368.chunk.js.map